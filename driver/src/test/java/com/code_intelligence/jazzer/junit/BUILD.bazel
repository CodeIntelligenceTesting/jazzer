[
    java_test(
        name = "RegressionTestTest" + JAZZER_FUZZ,
        srcs = ["RegressionTestTest.java"],
        env = {
            "JAZZER_FUZZ": JAZZER_FUZZ,
        },
        test_class = "com.code_intelligence.jazzer.junit.RegressionTestTest",
        runtime_deps = [
            "//examples/junit/src/test/java/com/example:ExampleFuzzTests_deploy.jar",
        ],
        deps = [
            "//agent/src/main/java/com/code_intelligence/jazzer/api:hooks",
            "@maven//:junit_junit",
            "@maven//:org_junit_jupiter_junit_jupiter_api",
            "@maven//:org_junit_jupiter_junit_jupiter_engine",
            "@maven//:org_junit_platform_junit_platform_engine",
            "@maven//:org_junit_platform_junit_platform_testkit",
            "@maven//:org_opentest4j_opentest4j",
        ],
    )
    for JAZZER_FUZZ in [
        "",
        # Any non-empty value disables the regression test.
        "_fuzzing",
    ]
]
